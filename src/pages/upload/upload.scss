@import "../../styles/responsive.scss";

:root {
  --paper: #fff;
  --ink: #0f172a;
  --ink-dim: #475569;
  --line: #e2e8f0;
  --chip-bg: #f1f5f9;
  --chip-ink: #334155;
  --accent: #7c5cff;
  --accent2: #4cc9f0;

  --ok1: #34d399; --ok2: #16a34a;
  --warn1: #f59e0b; --warn2: #fb7185;
  --bad1: #fb7185; --bad2: #ef4444;

  /* Controls */
  --zoom: 1;          /* 0.75 to 1.5 range recommended */
  --rowH: 40px;       /* row height control */
}

.upload-page {
  padding: 20px;

  .paper {
    background: var(--paper);
    color: var(--ink);
    border: 1px solid var(--line);
    border-radius: 14px;
    overflow: hidden;
  }

  /* ===== Toolbar ===== */
  .table-toolbar {
    display: flex;
    gap: 12px;
    align-items: center;
    padding: 12px 14px;
    border-bottom: 1px solid var(--line);
    background: #fff; /* removed gradient */

    .title { font-weight: 700; font-size: 16px; margin-right: auto; }

    .search input {
      width: 280px;
      padding: 9px 12px;
      border: 1px solid var(--line);
      border-radius: 10px;
      font-size: 13px;
      outline: none;
      background: #fff;
    }

    /* Solid buttons (no gradients) */
    .gbtn {
      border: 1px solid var(--line);
      border-radius: 999px;
      padding: 8px 14px;
      font-size: 12px;
      color: #fff;
      cursor: pointer;
      background: var(--accent);
      box-shadow: none;
      transition: transform .1s ease, opacity .15s ease, background .15s ease;
      white-space: nowrap;
    }
    .gbtn:hover { transform: translateY(-1px); }
    .gbtn:active { transform: translateY(0); }

    /* status solid variants */
    .gbtn.ok   { background: var(--ok2); border-color: #86efac; }
    .gbtn.warn { background: var(--warn1); border-color: #fdba74; color: #111; }
    .gbtn.bad  { background: var(--bad2); border-color: #fca5a5; }
    .gbtn.ghost {
      color: var(--accent);
      background: #fff;
      border: 1px solid var(--line);
      box-shadow: none;
    }
    .gbtn.ghost:hover { background: #fbfdff; }

    .divider { width: 1px; height: 26px; background: var(--line); margin: 0 4px; }
  }

  /* ===== Controls row under toolbar (zoom / row height / column visibility) ===== */
  .table-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    align-items: center;
    padding: 10px 14px;
    border-bottom: 1px solid var(--line);
    background: #fff;

    .ctl {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      color: var(--ink-dim);

      input[type="range"] {
        width: 160px;
      }
    }

    .col-visibility {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;

      .chip {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 10px;
        background: var(--chip-bg);
        color: var(--chip-ink);
        border: 1px solid var(--line);
        border-radius: 999px;
        font-size: 12px;
        cursor: pointer;

        input { transform: translateY(1px); }
      }
    }
  }

  /* ===== Table wrapper with zoom ===== */
  .table-wrap {
    overflow: auto;
    /* Zoom using transform for cross-browser consistency */
    transform: scale(var(--zoom));
    transform-origin: top left;
  }

  /* ===== Table ===== */
  table {
    width: calc(100% / var(--zoom));  /* counter-scale width so it fills container */
    border-collapse: separate;
    border-spacing: 0;
    font-size: 13px;
  }

  thead th {
    background: #fafafa;
    color: var(--ink-dim);
    text-align: left;
    padding: 0 14px;
    height: var(--rowH);
    border-bottom: 1px solid var(--line);
    font-weight: 600;
    position: sticky; top: 0; z-index: 1;
    white-space: nowrap;

    /* resizer handle */
    position: relative;
    .resizer {
      position: absolute;
      right: -3px;
      top: 0;
      height: 100%;
      width: 6px;
      cursor: col-resize;
      user-select: none;
      touch-action: none;
      opacity: 0;
      transition: opacity .15s;
    }
    &:hover .resizer { opacity: 1; }
  }

  tbody td {
    padding: 0 14px;
    height: var(--rowH);
    border-bottom: 1px solid var(--line);
    vertical-align: middle;
    white-space: nowrap;
  }
  tbody tr:hover td { background: #fcfcff; }

  .muted { color: var(--ink-dim); }

  .status {
    display: inline-flex; align-items: center; gap: 6px;
    padding: 4px 8px; border-radius: 999px; font-size: 12px;
    border: 1px solid transparent;
  }
  .ok   { background: #ecfdf5; border-color: #86efac; color: #166534; }
  .warn { background: #fff7ed; border-color: #fdba74; color: #9a3412; }
  .bad  { background: #fef2f2; border-color: #fca5a5; color: #7f1d1d; }

  /* ===== Pager removed ===== */
}
